//CHECKSUM:e915197eca8382a00ebb31fc2288f3d7d5a030c8fe30215f6c06a8951f262420
"use strict";

/**
 * Extract entities that match a slot
 * @hidden true
 * @param slotName The name of the slot to extract. (e.g. destination_from)
 * @param entityName The entity of the slot. (e.g. City)
 */
const slotFill = async (slotName, entityName) => {
  if (event.nlu.entities && event.nlu.entities.length) {
    for (const entity of event.nlu.entities) {
      if (entity.name === entityName) {
        setSlot(slotName, entity.data.value);
      }
    }
  } else if (entityName === 'any') {
    setSlot(slotName, event.payload.text);
  }
};

const setSlot = (slotName, value) => {
  if (!session.extractedSlots[slotName]) {
    session.extractedSlots[slotName] = {
      value,
      timestamp: Date.now()
    };
    session.extractedSlots.notFound = 0;
  }
};

return slotFill(args.slotName, args.entity);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsb3RfZmlsbC5qcyJdLCJuYW1lcyI6WyJzbG90RmlsbCIsInNsb3ROYW1lIiwiZW50aXR5TmFtZSIsImV2ZW50Iiwibmx1IiwiZW50aXRpZXMiLCJsZW5ndGgiLCJlbnRpdHkiLCJuYW1lIiwic2V0U2xvdCIsImRhdGEiLCJ2YWx1ZSIsInBheWxvYWQiLCJ0ZXh0Iiwic2Vzc2lvbiIsImV4dHJhY3RlZFNsb3RzIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsIm5vdEZvdW5kIiwiYXJncyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7O0FBTUEsTUFBTUEsUUFBUSxHQUFHLE9BQU9DLFFBQVAsRUFBaUJDLFVBQWpCLEtBQWdDO0FBQy9DLE1BQUlDLEtBQUssQ0FBQ0MsR0FBTixDQUFVQyxRQUFWLElBQXNCRixLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBVixDQUFtQkMsTUFBN0MsRUFBcUQ7QUFDbkQsU0FBSyxNQUFNQyxNQUFYLElBQXFCSixLQUFLLENBQUNDLEdBQU4sQ0FBVUMsUUFBL0IsRUFBeUM7QUFDdkMsVUFBSUUsTUFBTSxDQUFDQyxJQUFQLEtBQWdCTixVQUFwQixFQUFnQztBQUM5Qk8sUUFBQUEsT0FBTyxDQUFDUixRQUFELEVBQVdNLE1BQU0sQ0FBQ0csSUFBUCxDQUFZQyxLQUF2QixDQUFQO0FBQ0Q7QUFDRjtBQUNGLEdBTkQsTUFNTyxJQUFJVCxVQUFVLEtBQUssS0FBbkIsRUFBMEI7QUFDL0JPLElBQUFBLE9BQU8sQ0FBQ1IsUUFBRCxFQUFXRSxLQUFLLENBQUNTLE9BQU4sQ0FBY0MsSUFBekIsQ0FBUDtBQUNEO0FBQ0YsQ0FWRDs7QUFZQSxNQUFNSixPQUFPLEdBQUcsQ0FBQ1IsUUFBRCxFQUFXVSxLQUFYLEtBQXFCO0FBQ25DLE1BQUksQ0FBQ0csT0FBTyxDQUFDQyxjQUFSLENBQXVCZCxRQUF2QixDQUFMLEVBQXVDO0FBQ3JDYSxJQUFBQSxPQUFPLENBQUNDLGNBQVIsQ0FBdUJkLFFBQXZCLElBQW1DO0FBQ2pDVSxNQUFBQSxLQURpQztBQUVqQ0ssTUFBQUEsU0FBUyxFQUFFQyxJQUFJLENBQUNDLEdBQUw7QUFGc0IsS0FBbkM7QUFJQUosSUFBQUEsT0FBTyxDQUFDQyxjQUFSLENBQXVCSSxRQUF2QixHQUFrQyxDQUFsQztBQUNEO0FBQ0YsQ0FSRDs7QUFVQSxPQUFPbkIsUUFBUSxDQUFDb0IsSUFBSSxDQUFDbkIsUUFBTixFQUFnQm1CLElBQUksQ0FBQ2IsTUFBckIsQ0FBZiIsInNvdXJjZVJvb3QiOiIvdmFyL2xpYi9qZW5raW5zL3dvcmtzcGFjZS9idWlsZC13aW5kb3dzL21vZHVsZXMvYmFzaWMtc2tpbGxzL3NyYy9iYWNrZW5kIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFeHRyYWN0IGVudGl0aWVzIHRoYXQgbWF0Y2ggYSBzbG90XG4gKiBAaGlkZGVuIHRydWVcbiAqIEBwYXJhbSBzbG90TmFtZSBUaGUgbmFtZSBvZiB0aGUgc2xvdCB0byBleHRyYWN0LiAoZS5nLiBkZXN0aW5hdGlvbl9mcm9tKVxuICogQHBhcmFtIGVudGl0eU5hbWUgVGhlIGVudGl0eSBvZiB0aGUgc2xvdC4gKGUuZy4gQ2l0eSlcbiAqL1xuY29uc3Qgc2xvdEZpbGwgPSBhc3luYyAoc2xvdE5hbWUsIGVudGl0eU5hbWUpID0+IHtcbiAgaWYgKGV2ZW50Lm5sdS5lbnRpdGllcyAmJiBldmVudC5ubHUuZW50aXRpZXMubGVuZ3RoKSB7XG4gICAgZm9yIChjb25zdCBlbnRpdHkgb2YgZXZlbnQubmx1LmVudGl0aWVzKSB7XG4gICAgICBpZiAoZW50aXR5Lm5hbWUgPT09IGVudGl0eU5hbWUpIHtcbiAgICAgICAgc2V0U2xvdChzbG90TmFtZSwgZW50aXR5LmRhdGEudmFsdWUpXG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGVudGl0eU5hbWUgPT09ICdhbnknKSB7XG4gICAgc2V0U2xvdChzbG90TmFtZSwgZXZlbnQucGF5bG9hZC50ZXh0KVxuICB9XG59XG5cbmNvbnN0IHNldFNsb3QgPSAoc2xvdE5hbWUsIHZhbHVlKSA9PiB7XG4gIGlmICghc2Vzc2lvbi5leHRyYWN0ZWRTbG90c1tzbG90TmFtZV0pIHtcbiAgICBzZXNzaW9uLmV4dHJhY3RlZFNsb3RzW3Nsb3ROYW1lXSA9IHtcbiAgICAgIHZhbHVlLFxuICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgfVxuICAgIHNlc3Npb24uZXh0cmFjdGVkU2xvdHMubm90Rm91bmQgPSAwXG4gIH1cbn1cblxucmV0dXJuIHNsb3RGaWxsKGFyZ3Muc2xvdE5hbWUsIGFyZ3MuZW50aXR5KVxuIl19